<div>
  <div>
    <h6>Search & Select Presets</h6>
  </div>

  <app-field-error [errors]="errors" [fieldNames]="['templateId', '']"></app-field-error>
  <div class="filters" [formGroup]="form">
    <div class="filters-header">
      <div class="filter">
        <app-input placeholder="Name" formControlName="name"></app-input>
        <app-field-error [errors]="errors" fieldName="name"></app-field-error>
      </div>

      <div class="filter" *ngIf="selectedPreset">
        <div>
          <button (click)="selectPreset(null)"
                  class="btn btn-outline-danger">Reset selection</button>
        </div>
        <div>
          <strong>{{ selectedPreset.name }}</strong>
        </div>
      </div>

    </div>
  </div>
  <hr>
  <div class="main">
    <app-pagination
      (pageChange)="pageChange($event)"
      [pagination]="pageToPagination(response)"></app-pagination>
    <hr>
    <div>

      <table class="table table-striped table-hover">
        <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">Name</th>
          <th scope="col" class="text-end">Actions</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let preset of response.content">
          <th scope="row">
            <small>
              {{ preset.id }}
            </small>
          </th>
          <td>
            <app-tooltip-span
              [trimDisplayTextChars]="25"
              [enableCopy]="true"
              [displayText]="preset.name"
              [tooltipText]="preset.name"></app-tooltip-span>
            <span *ngIf="selectedPreset?.id === preset.id">(Selected)</span>
          </td>
          <td>
            <div class="d-flex justify-content-end">
              <button class="m-1 btn btn-outline-info"
                      (click)="openDetailsDialog(preset)">View Args
              </button>
              <button class="m-1 btn btn-outline-success"
                      [disabled]="selectedPreset?.id === preset.id"
                      (click)="selectPreset(preset)">Select
              </button>
            </div>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
